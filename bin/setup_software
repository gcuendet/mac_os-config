#! /usr/bin/env bash

# Sets up and launches (if necessary) installed software.

# Bash
# sudo bash -c "printf '/usr/local/bin/bash\n' >> /etc/shells"
# sudo bash -c "printf '/usr/local/bin/zsh\n' >> /etc/shells"

# Oh-my-Zsh
chsh -s $(which zsh)
sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"

# Homebrew
(
  cd /usr/local/Homebrew
  git config --local core.hooksPath /dev/null
)

# Sublime Text
if [ ! -e "/usr/bin/sublime" ]; then
  if [ -e "/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl" ]; then
    sudo ln -sv "/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl" /usr/local/bin/sublime
  fi
fi

# Dotfiles
sh -c "$(curl -fsSL https://raw.githubusercontent.com/gcuendet/dotfiles/master/.install_dotfiles.sh)"

source $HOME/.zshrc
